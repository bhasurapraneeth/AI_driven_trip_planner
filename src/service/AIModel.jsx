import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash-exp",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};


  export const chatSession = model.startChat({
    generationConfig,
    history: [
      {
        role: "user",
        parts: [
          {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing,  rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format."},
        ],
      },
      {
        role: "model",
        parts: [
          {text: "Okay, here's a travel plan for a couple on a budget in Las Vegas for 3 days, formatted in JSON as you requested. Note that prices and availability can vary, so always double-check before booking. I'll prioritize free or low-cost activities to keep the budget down.\n\n```json\n{\n  \"tripDetails\": {\n    \"location\": \"Las Vegas, Nevada\",\n    \"duration\": \"3 Days\",\n    \"budget\": \"Cheap\",\n    \"travelers\": \"Couple\"\n  },\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"70 - 150 USD/night\",\n       \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/16/52/01/d9/exterior.jpg?w=700&h=-1&s=1\",\n      \"geoCoordinates\": { \"latitude\": 36.1352, \"longitude\": -115.1638 },\n      \"rating\": 3.8,\n      \"description\": \"Classic Vegas hotel with affordable rooms, a circus theme, and a midway. Good for budget travelers looking for entertainment.\"\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"80 - 160 USD/night\",\n       \"hotelImageUrl\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1b/2b/02/40/excalibur-hotel-casino.jpg?w=700&h=-1&s=1\",\n      \"geoCoordinates\": { \"latitude\": 36.0989, \"longitude\": -115.1722 },\n      \"rating\": 4.0,\n      \"description\": \"A medieval-themed hotel with budget-friendly rates. Offers a variety of dining and entertainment options.\"\n    },\n    {\n      \"hotelName\": \"OYO Hotel & Casino Las Vegas\",\n      \"hotelAddress\": \"115 E Tropicana Ave, Las Vegas, NV 89109\",\n      \"price\": \"60 - 140 USD/night\",\n      \"hotelImageUrl\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/24/56/68/9f/oyo-hotel-casino-las-vegas.jpg?w=700&h=-1&s=1\",\n      \"geoCoordinates\": { \"latitude\": 36.1013, \"longitude\": -115.1688 },\n      \"rating\": 3.5,\n      \"description\": \"Budget-friendly hotel located near the Strip. Offers a basic stay with a pool and some dining options.\"\n    }\n      ,\n    {\n      \"hotelName\":\"The STRAT Hotel, Casino & SkyPod\",\n      \"hotelAddress\":\"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\":\"75- 165 USD/night\",\n      \"hotelImageUrl\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/15/e7/1a/68/the-strat-hotel-casino.jpg?w=700&h=-1&s=1\",\n      \"geoCoordinates\":{\"latitude\":36.1481, \"longitude\":-115.1556},\n      \"rating\":4.2,\n      \"description\":\"Iconic hotel with a towering observation deck. Offers various dining and entertainment, more budget-friendly compared to other hotels on the Strip\"\n    }\n  ],\n   \"itinerary\": {\n      \"day1\": {\n      \"theme\": \"Exploring the Strip & Free Attractions\",\n      \"bestTimeToVisit\": \"Morning and Evening (to avoid midday heat)\",\n      \"activities\": [\n          {\n            \"placeName\": \"Fountains of Bellagio\",\n            \"placeDetails\": \"A spectacular water show choreographed to music. Free to watch.\",\n            \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1c/8a/17/5e/bellagio-fountains.jpg?w=700&h=-1&s=1\",\n            \"geoCoordinates\": { \"latitude\": 36.1129, \"longitude\": -115.1742 },\n            \"ticketPricing\": \"Free\",\n            \"rating\": 4.8,\n             \"timeTravel\": \"Depends on hotel location, walking from Bellagio area is ideal.\"\n          },\n           {\n              \"placeName\": \"Bellagio Conservatory & Botanical Gardens\",\n              \"placeDetails\": \"Beautiful indoor garden with seasonal displays.\",\n              \"placeImageUrl\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/11/ba/d4/70/photo0jpg.jpg?w=700&h=-1&s=1\",\n              \"geoCoordinates\": {\"latitude\":36.1138, \"longitude\":-115.1740},\n              \"ticketPricing\":\"Free\",\n              \"rating\":4.7,\n             \"timeTravel\":\"Walking distance from Fountains of Bellagio\"\n          },\n         {\n              \"placeName\": \"The LINQ Promenade\",\n              \"placeDetails\": \"Outdoor shopping, dining, and entertainment area. Walk around and soak in the atmosphere. (Cost for optional attractions)\",\n              \"placeImageUrl\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1c/d4/3a/0c/the-linq-promenade.jpg?w=700&h=-1&s=1\",\n               \"geoCoordinates\": { \"latitude\": 36.1164, \"longitude\": -115.1691 },\n              \"ticketPricing\": \"Free to enter, some attractions have costs\",\n              \"rating\": 4.4,\n              \"timeTravel\": \"Short walk from Bellagio area.\"\n            },\n           {\n            \"placeName\": \"Mirage Volcano\",\n            \"placeDetails\": \"A fiery volcano eruption show.\",\n            \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/17/c4/38/f4/photo0jpg.jpg?w=700&h=-1&s=1\",\n            \"geoCoordinates\": { \"latitude\": 36.1212, \"longitude\": -115.1741 },\n            \"ticketPricing\": \"Free\",\n            \"rating\": 4.5,\n             \"timeTravel\": \"Short walk from LINQ Promenade.\"\n          },\n\n          {\n            \"placeName\": \"Walk the Las Vegas Strip\",\n            \"placeDetails\": \"Stroll along the Strip, taking in the sights and sounds.\",\n             \"placeImageUrl\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1c/22/7e/88/the-strip.jpg?w=700&h=-1&s=1\",\n            \"geoCoordinates\": { \"latitude\": 36.1146, \"longitude\": -115.1728 },\n            \"ticketPricing\": \"Free\",\n            \"rating\": 4.6,\n             \"timeTravel\": \"Anywhere on the strip area.\"\n          }\n        ]\n      },\n    \"day2\": {\n      \"theme\": \"Downtown Las Vegas & Unique Experiences\",\n      \"bestTimeToVisit\":\"Late Afternoon and Evening\",\n      \"activities\":[\n        {\n          \"placeName\":\"Fremont Street Experience\",\n          \"placeDetails\": \"Light show and pedestrian mall with free entertainment.\",\n          \"placeImageUrl\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/15/49/a5/09/fremont-street-experience.jpg?w=700&h=-1&s=1\",\n          \"geoCoordinates\":{\"latitude\":36.1701, \"longitude\":-115.1401},\n          \"ticketPricing\":\"Free\",\n          \"rating\":4.6,\n          \"timeTravel\":\"Approx 15-20 mins from the Strip by ride-sharing or bus\"\n        },\n          {\n              \"placeName\":\"Container Park\",\n              \"placeDetails\": \"Shopping and dining complex made from shipping containers. Fun to explore.\",\n              \"placeImageUrl\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/15/1e/e6/8c/downtown-container-park.jpg?w=700&h=-1&s=1\",\n              \"geoCoordinates\":{\"latitude\":36.1685, \"longitude\":-115.1360},\n              \"ticketPricing\":\"Free entry, individual costs for shopping and dining\",\n              \"rating\":4.3,\n             \"timeTravel\":\"Walking distance from Fremont Street\"\n            },\n        {\n          \"placeName\":\"Mob Museum\",\n          \"placeDetails\": \"Interactive museum about organized crime. (Optional, may cost)\",\n           \"placeImageUrl\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/19/b7/f1/80/the-mob-museum.jpg?w=700&h=-1&s=1\",\n          \"geoCoordinates\": {\"latitude\": 36.1695, \"longitude\": -115.1406 },\n          \"ticketPricing\": \"29.95 USD (optional)\",\n          \"rating\": 4.7,\n             \"timeTravel\":\" Short Walk from Fremont Street Experience\"\n        },\n         {\n           \"placeName\": \"Gold and Silver Pawn Shop\",\n            \"placeDetails\":\"The famous pawn shop from the 'Pawn Stars' TV Show.\",\n           \"placeImageUrl\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1c/0f/58/a3/exterior.jpg?w=700&h=-1&s=1\",\n          \"geoCoordinates\": { \"latitude\": 36.1602, \"longitude\": -115.1525 },\n          \"ticketPricing\": \"Free to enter\",\n          \"rating\": 4.0,\n            \"timeTravel\":\"Short drive from Downtown\"\n        },\n           {\n            \"placeName\": \"Downtown Murals\",\n            \"placeDetails\": \"Explore the vibrant street art and murals in Downtown Las Vegas.\",\n            \"placeImageUrl\": \"https://downtown.vegas/wp-content/uploads/2018/06/Downtown-Las-Vegas-Murals-Hero-Image.jpg\",\n            \"geoCoordinates\": {\"latitude\": 36.1686, \"longitude\": -115.1414},\n            \"ticketPricing\": \"Free\",\n            \"rating\": 4.5,\n            \"timeTravel\": \"Walking distance around Downtown\"\n          }\n\n      ]\n    },\n     \"day3\": {\n      \"theme\": \"Nature & Departure\",\n      \"bestTimeToVisit\": \"Morning and Early Afternoon\",\n      \"activities\": [\n           {\n            \"placeName\": \"Red Rock Canyon National Conservation Area\",\n            \"placeDetails\": \"Scenic desert landscape with hiking trails. (Entrance fee required.)\",\n            \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/12/8f/c8/15/red-rock-canyon.jpg?w=700&h=-1&s=1\",\n            \"geoCoordinates\": { \"latitude\": 36.1451, \"longitude\": -115.4173 },\n            \"ticketPricing\": \"15 USD per vehicle\",\n            \"rating\": 4.7,\n              \"timeTravel\": \"Approx 25-30 mins drive from the Strip\"\n\n          },\n         {\n           \"placeName\":\"Seven Magic Mountains\",\n           \"placeDetails\":\"Colorful rock sculpture installation in the desert.\",\n           \"placeImageUrl\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/15/3f/ab/d4/seven-magic-mountains.jpg?w=700&h=-1&s=1\",\n          \"geoCoordinates\":{\"latitude\":35.8425, \"longitude\":-115.2480},\n          \"ticketPricing\":\"Free\",\n           \"rating\":4.5,\n              \"timeTravel\":\"Approx 20-25 mins from red rock\"\n        },\n           {\n           \"placeName\": \"Explore the Arts District\",\n            \"placeDetails\": \"Take a stroll through the Arts District which is also known as 18b, and check out the galleries and shops.\",\n             \"placeImageUrl\": \"https://i0.wp.com/vegasmagazine.com/wp-content/uploads/2021/06/VegasArtsDistrict_Hero-scaled.jpg\",\n            \"geoCoordinates\": {\"latitude\": 36.1533, \"longitude\": -115.1483},\n            \"ticketPricing\": \"Free\",\n            \"rating\": 4.4,\n             \"timeTravel\": \"Approx 10-15 mins from Seven Magic Mountains\"\n\n        }\n\n\n      ]\n    }\n   }\n}\n```\n\n**Notes:**\n\n*   **Transportation:** This itinerary assumes you'll use ride-sharing (Uber/Lyft) or buses for longer distances. Walking is great for exploring the Strip.\n*   **Food:** To save money, consider grocery stores for breakfast and snacks. There are many affordable dining options in Vegas, particularly off the main strip.\n*   **Flexibility:**  Feel free to adjust this plan to your interests and pace.\n*   **Prices:** Hotel and ticket prices can vary greatly depending on the time of year, day of the week, and availability. It's always best to check recent prices before booking.\n\nEnjoy your trip to Vegas! Let me know if you have any more questions.\n"},
        ],
      },
    ],
  });

